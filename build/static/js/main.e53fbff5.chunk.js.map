{"version":3,"sources":["components/Shop/ProductItem.module.css","components/UI/Notification.module.css","components/Cart/CartButton.module.css","components/UI/Card.module.css","components/Cart/Cart.module.css","components/Layout/MainHeader.module.css","components/Shop/Products.module.css","components/UI/Card.js","store/cartSlice.js","components/Cart/CartItem.js","components/Cart/Cart.js","store/ui-item.js","components/Cart/CartButton.js","components/Layout/MainHeader.js","components/Layout/Layout.js","components/Shop/ProductItem.js","components/Shop/Products.js","components/UI/Notification.js","App.js","store/cart-actions.js","store/index.js","index.js","components/Cart/CartItem.module.css"],"names":["module","exports","Card","props","className","classes","card","children","cartSlice","createSlice","name","initialState","items","totalQuentity","changed","reducers","replaceCart","state","action","payload","addToCart","newItem","existingItems","find","el","id","quentity","totalPrice","price","push","title","removeItemFromCart","existingItem","console","log","filter","cartAction","actions","CartItem","item","total","quantity","dispatch","useDispatch","toFixed","itemprice","details","onClick","Cart","useSelector","cart","map","uiSlice","showUi","notification","toggoleUi","showNotification","status","message","uiAction","CartButton","button","badge","MainHeader","header","Layout","ProductItem","description","DUMMY_PRODUCTS","Products","products","product","Notification","specialClasses","error","success","cssClasses","isInitial","App","ui","useEffect","fetchData","fetch","res","ok","Error","json","data","cartData","sendRequest","method","body","JSON","stringify","sendCardData","store","configureStore","reducer","ReactDOM","createRoot","document","getElementById","render"],"mappings":"sHACAA,EAAOC,QAAU,CAAC,KAAO,0BAA0B,MAAQ,2BAA2B,QAAU,6B,qBCAhGD,EAAOC,QAAU,CAAC,aAAe,mCAAmC,MAAQ,4BAA4B,QAAU,8B,qBCAlHD,EAAOC,QAAU,CAAC,OAAS,2BAA2B,MAAQ,0B,qBCA9DD,EAAOC,QAAU,CAAC,KAAO,mB,qBCAzBD,EAAOC,QAAU,CAAC,KAAO,mB,qBCAzBD,EAAOC,QAAU,CAAC,OAAS,2B,qBCA3BD,EAAOC,QAAU,CAAC,SAAW,2B,iICWdC,EAVF,SAACC,GACZ,OACE,yBACEC,UAAS,UAAKC,IAAQC,KAAI,YAAIH,EAAMC,UAAYD,EAAMC,UAAY,IAAK,SAEtED,EAAMI,UAGb,E,wCCPMC,EAAWC,YAAY,CACzBC,KAAM,OACNC,aAAa,CACTC,MAAM,GACNC,cAAc,EACdC,SAAS,GAETC,SAAU,CACNC,YAAW,SAACC,EAAOC,GACjBD,EAAMJ,cAAgBK,EAAOC,QAAQN,cACrCI,EAAML,MAAQM,EAAOC,QAAQP,KAC/B,EACJQ,UAAS,SAACH,EAAMC,GACZ,IAAMG,EAAQH,EAAOC,QACfG,EAAcL,EAAML,MAAMW,MAAK,SAACC,GAAE,OAAGA,EAAGC,KAAKJ,EAAQI,EAAE,IAC7DR,EAAMJ,gBACNI,EAAMH,SAAQ,EACVQ,GASAA,EAAcI,WACfJ,EAAcK,WAAWL,EAAcK,WAAWN,EAAQO,OAT1DX,EAAML,MAAMiB,KAAK,CAChBJ,GAAIJ,EAAQI,GACZf,KAAKW,EAAQS,MACbJ,SAAS,EACTE,MAAMP,EAAQO,MACdD,WAAWN,EAAQO,OAM3B,EACAG,mBAAkB,SAACd,EAAMC,GACrB,IAAMO,EAAIP,EAAOC,QACXa,EAAcf,EAAML,MAAMW,MAAK,SAACC,GAAE,OAAGA,EAAGC,KAAKA,CAAE,IACrDQ,QAAQC,IAAIF,GACZf,EAAMJ,gBACNI,EAAMH,SAAQ,EAGa,IAAxBkB,EAAaN,SACZT,EAAML,MAAMK,EAAML,MAAMuB,QAAO,SAAAX,GAAE,OAAEA,EAAGC,KAAKA,CAAE,KAE7CO,EAAaN,WACbM,EAAaL,WAAWK,EAAaL,WAAWK,EAAaJ,MAGrE,KAQKQ,EAAY5B,EAAU6B,QACpB7B,ICbA8B,EAtCE,SAACnC,GAChB,MAA2CA,EAAMoC,KAAzCC,EAAK,EAALA,MAAMV,EAAK,EAALA,MAAOF,EAAK,EAALA,MAAOH,EAAE,EAAFA,GAAGgB,EAAQ,EAARA,SAE3BC,EAAUC,cAad,OACE,qBAAIvC,UAAWC,IAAQkC,KAAK,UAC1B,mCACE,6BAAKT,IACL,sBAAK1B,UAAWC,IAAQuB,MAAM,cAC1BY,EAAMI,QAAQ,GAAI,IACpB,uBAAMxC,UAAWC,IAAQwC,UAAU,eAAIjB,EAAMgB,QAAQ,GAAE,kBAG3D,sBAAKxC,UAAWC,IAAQyC,QAAQ,UAC9B,sBAAK1C,UAAWC,IAAQoC,SAAS,eAC7B,+BAAOA,OAEX,sBAAKrC,UAAWC,IAAQgC,QAAQ,UAC9B,wBAAQU,QAlBiB,WACnCL,EAASN,EAAWL,mBAAmBN,GACrC,EAgBoD,eAC5C,wBAAQsB,QA3BM,WACtBL,EAASN,EAAWhB,UAAU,CAC5BK,KACAG,UAEA,EAsByC,uBAK7C,ECdeoB,EArBF,SAAC7C,GAEV,IAAMS,EAAOqC,aAAY,SAAAhC,GAAK,OAAEA,EAAMiC,KAAKtC,KAAK,IAIlD,OACE,eAAC,EAAI,CAACR,UAAWC,IAAQ6C,KAAK,UAC5B,oDACA,6BACEtC,EAAMuC,KAAI,SAACZ,GAAI,OACd,cAAC,EAAQ,CAETA,KAAM,CAAEd,GAAIc,EAAKd,GAAGK,MAAOS,EAAK7B,KAAM+B,SAAUF,EAAKb,SAAUc,MAAOD,EAAKZ,WAAYC,MAAOW,EAAKX,QAD9FW,EAAKd,GAEV,QAKT,E,cCvBM2B,EAAU3C,YAAY,CACxBC,KAAM,KACNC,aAAc,CAAC0C,QAAQ,EAAOC,aAAc,MAC5CvC,SAAU,CACNwC,UAAS,SAACtC,GACNA,EAAMoC,QAASpC,EAAMoC,MACzB,EACAG,iBAAgB,SAACvC,EAAMC,GACnBD,EAAMqC,aAAa,CAACG,OAAQvC,EAAOC,QAAQsC,OAAQ3B,MAAOZ,EAAOC,QAAQW,MAAO4B,QAAQxC,EAAOC,QAAQuC,QAC3G,KAIKC,EAAUP,EAAQf,QAChBe,I,iBCQAQ,EAnBI,SAACzD,GAClB,IAAMuB,EAAUuB,aAAY,SAAAhC,GAAK,OAAEA,EAAMiC,KAAKrC,aAAa,IAKrD6B,EAASC,cAKf,OACE,yBAAQvC,UAAWC,IAAQwD,OAAQd,QALtB,WACbL,EAASiB,EAASJ,YAEpB,EAEuD,UACnD,2CACA,sBAAMnD,UAAWC,IAAQyD,MAAM,SAAEpC,MAGvC,E,iBCLeqC,EAfI,SAAC5D,GAClB,OACE,yBAAQC,UAAWC,IAAQ2D,OAAO,UAChC,2CACA,8BACE,6BACE,6BACE,cAAC,EAAU,YAMvB,ECJeC,EATA,SAAC9D,GACd,OACE,eAAC,WAAQ,WACP,cAAC,EAAU,IACX,+BAAOA,EAAMI,aAGnB,E,iBC2Ee2D,EA/EK,SAAC/D,GACnB,IAAQ2B,EAAiC3B,EAAjC2B,MAAOF,EAA0BzB,EAA1ByB,MAAOuC,EAAmBhE,EAAnBgE,YAAY1C,EAAOtB,EAAPsB,GAC5BiB,EAAUC,cA6DhB,OACE,oBAAIvC,UAAWC,IAAQkC,KAAK,SAC1B,eAAC,EAAI,WACH,mCACE,6BAAKT,IACL,sBAAK1B,UAAWC,IAAQuB,MAAM,cAAGA,EAAMgB,QAAQ,SAEjD,4BAAIuB,IACJ,qBAAK/D,UAAWC,IAAQgC,QAAQ,SAC9B,wBAAQU,QAlEQ,WACtBL,EAASN,EAAWhB,UAAU,CAC5BK,KACAK,QACAF,QACAuC,gBAGJ,EA0D2C,+BAK7C,E,iBC/EMC,EAAiB,CACrB,CACE3C,GAAI,KACJG,MAAO,EACPE,MAAO,gBACPqC,YAAa,+BAEf,CACE1C,GAAI,KACJG,MAAO,IACPE,MAAO,iBACPqC,YAAa,iCAsBFE,EAnBE,SAAClE,GAChB,OACE,0BAASC,UAAWC,IAAQiE,SAAS,UACnC,4DACA,6BACCF,EAAejB,KAAI,SAACoB,GAAO,OACzB,cAAC,EAAW,CAEZ9C,GAAI8C,EAAQ9C,GACZK,MAAOyC,EAAQzC,MACfF,MAAO2C,EAAQ3C,MACfuC,YAAaI,EAAQJ,aAJhBI,EAAQ9C,GAKb,QAKT,E,iBCZe+C,EApBM,SAACrE,GACpB,IAAIsE,EAAiB,GAEA,UAAjBtE,EAAMsD,SACRgB,EAAiBpE,IAAQqE,OAEN,YAAjBvE,EAAMsD,SACRgB,EAAiBpE,IAAQsE,SAG3B,IAAMC,EAAU,UAAMvE,IAAQiD,aAAY,YAAImB,GAE9C,OACE,0BAASrE,UAAWwE,EAAW,UAC7B,6BAAKzE,EAAM2B,QACX,4BAAI3B,EAAMuD,YAGhB,ECZImB,GAAY,EAqEDC,MAnEf,WACE,IAAMpC,EAAUC,cAGVoC,EAAI9B,aAAY,SAAAhC,GAAK,OAAEA,EAAM8D,GAAG1B,MAAM,IACtCC,EAAcL,aAAY,SAAAhC,GAAK,OAAEA,EAAM8D,GAAGzB,YAAY,IACtDJ,EAAMD,aAAY,SAAAhC,GAAK,OAAEA,EAAMiC,IAAI,IAkDzC,OAxBE8B,qBAAU,WACRtC,ECtCF,iDAAO,WAAMA,GAAQ,mFACJ,OAATuC,EAAS,iDAAE,gHACEC,MAAM,gEAA+D,OAA7E,IAAHC,EAAG,QAEDC,GAAG,CAAC,EAAF,mBACA,IAAIC,MAAM,8BAA6B,uBAE9BF,EAAIG,OAAO,KAAD,EAAnB,OAAJC,EAAI,yBACHA,GAAI,2CAEZ,kBATc,qDAWON,IAAY,KAAD,EAA5BO,EAAS,EAAD,KACX9C,EAASN,EAAWpB,YAAY,CAC5BJ,MAAM4E,EAAS5E,OAAO,GACvBC,cAAc2E,EAAS3E,iBAGvB,gDAIH6B,EAASiB,EAASH,iBAAiB,CAC/BC,OAAQ,QACR3B,MAAO,WACP4B,QAAS,6BACP,yDAIT,mDA9BD,GDuCA,GAAE,CAAChB,IAELsC,qBAAU,WACJH,EACFA,GAAU,EAGX3B,EAAKpC,SACN4B,ECbsB,SAACQ,GACvB,wDAAO,WAAMR,GAAQ,iFAOG,OANpBA,EAASiB,EAASH,iBAAiB,CAC/BC,OAAQ,UACR3B,MAAO,aACP4B,QAAS,uBAGJ+B,EAAW,iDAAC,wGACAP,MAAM,+DAA+D,CAClFQ,OAAO,MACPC,KAAKC,KAAKC,UAAU,CAACjF,MAAMsC,EAAKtC,MAAOC,cAAcqC,EAAKrC,kBACzD,OAHI,UAIEuE,GAAG,CAAC,EAAF,mBACH,IAAIC,MAAM,sBAAqB,2CAEzC,kBARgB,qDAUVI,IAAa,OACnB/C,EAASiB,EAASH,iBAAiB,CAC/BC,OAAQ,UACR3B,MAAO,aACP4B,QAAS,mCACP,gDAINhB,EAASiB,EAASH,iBAAiB,CAC/BC,OAAQ,QACR3B,MAAO,WACP4B,QAAS,6BACP,yDAGb,mDAjCD,EAkCJ,CDtBaoC,CAAa5C,GAY1B,GAAE,CAACA,EAAKR,IAGJ,eAAC,WAAQ,WACNY,GAAiB,cAAC,EAAY,CAACG,OAAQH,EAAaG,OAAQ3B,MAAOwB,EAAaxB,MAAO4B,QAASJ,EAAaI,UAC9G,eAAC,EAAM,WACNqB,GAAM,cAAC,EAAI,IACZ,cAAC,EAAQ,SAIf,EEpEegB,EAJFC,YAAe,CACxBC,QAAS,CAAClB,GAAI3B,EAAQ6C,QAAS/C,KAAM1C,EAAUyF,WCGtCC,IAASC,WAAWC,SAASC,eAAe,SACpDC,OAAQ,eAAC,IAAQ,CAACP,MAAOA,EAAM,UAC/B,cAAC,EAAG,IAAG,O,oBCTZ/F,EAAOC,QAAU,CAAC,KAAO,uBAAuB,QAAU,0BAA0B,SAAW,2BAA2B,MAAQ,wBAAwB,UAAY,4BAA4B,QAAU,0B","file":"static/js/main.e53fbff5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ProductItem_item__27i_Q\",\"price\":\"ProductItem_price__1ji8u\",\"actions\":\"ProductItem_actions__2pnMI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"Notification_notification__1rYqh\",\"error\":\"Notification_error__2yb1B\",\"success\":\"Notification_success__23aC_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"CartButton_button__GxHEM\",\"badge\":\"CartButton_badge__2kjdN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1RfmS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart\":\"Cart_cart__4Wrp-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainHeader_header__2alMl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"products\":\"Products_products__3NXz9\"};","import classes from './Card.module.css';\n\nconst Card = (props) => {\n  return (\n    <section\n      className={`${classes.card} ${props.className ? props.className : ''}`}\n    >\n      {props.children}\n    </section>\n  );\n};\n\nexport default Card;\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n\r\nconst cartSlice= createSlice({\r\n    name :'cart',\r\n    initialState:{\r\n        items:[],\r\n        totalQuentity:0,\r\n        changed :false,\r\n    },\r\n        reducers: {\r\n            replaceCart(state, action) {\r\n              state.totalQuentity = action.payload.totalQuentity;\r\n              state.items = action.payload.items;\r\n            },\r\n        addToCart(state,action){\r\n            const newItem=action.payload\r\n            const existingItems=state.items.find((el)=>el.id===newItem.id)\r\n            state.totalQuentity++\r\n            state.changed=true\r\n            if(!existingItems){\r\n               state.items.push({\r\n                id :newItem.id,\r\n                name:newItem.title,\r\n                quentity:1,\r\n                price:newItem.price,\r\n                totalPrice:newItem.price\r\n               })\r\n            }else{\r\n                existingItems.quentity++\r\n               existingItems.totalPrice=existingItems.totalPrice+newItem.price\r\n            }\r\n        },\r\n        removeItemFromCart(state,action){\r\n            const id =action.payload\r\n            const existingItem= state.items.find((el)=>el.id===id)\r\n            console.log(existingItem)\r\n            state.totalQuentity--\r\n            state.changed=true\r\n\r\n\r\n            if(existingItem.quentity===1){\r\n                state.items=state.items.filter(el=>el.id!==id)\r\n            }else{\r\n                existingItem.quentity--\r\n                existingItem.totalPrice=existingItem.totalPrice-existingItem.price\r\n\r\n            }\r\n        }\r\n    }\r\n})\r\n\r\n\r\n\r\n\r\n\r\nexport const cartAction =cartSlice.actions\r\nexport default cartSlice;\r\n","import classes from './CartItem.module.css';\nimport { cartAction } from './../../store/cartSlice';\nimport { useDispatch } from 'react-redux';\n\n\n\nconst CartItem = (props) => {\n  const { total,title, price ,id,quantity} = props.item\n\nconst dispatch =useDispatch()\nconst addToCartHandeler=()=>{\n  dispatch(cartAction.addToCart({\n    id,\n    price,\n  }))\n    }\n\n \n  const removeItemFromCartHandeler=()=>{\ndispatch(cartAction.removeItemFromCart(id))\n  }\n\n  return (\n    <li className={classes.item}>\n      <header>\n        <h3>{title}</h3>\n        <div className={classes.price}>\n          ${total.toFixed(2)}{' '}\n          <span className={classes.itemprice}>(${price.toFixed(2)}/item)</span>\n        </div>\n      </header>\n      <div className={classes.details}>\n        <div className={classes.quantity}>\n          x <span>{quantity}</span>\n        </div>\n        <div className={classes.actions}>\n          <button onClick={removeItemFromCartHandeler}>-</button>\n          <button onClick={addToCartHandeler}>+</button>\n        </div>\n      </div>\n    </li>\n  );\n};\n\nexport default CartItem;\n","import Card from '../UI/Card';\nimport classes from './Cart.module.css';\nimport CartItem from './CartItem';\nimport { useSelector} from 'react-redux';\n\n\n\nconst Cart = (props) => {\n  \n    const items =useSelector(state=>state.cart.items)\n  \n   \n  \n  return (\n    <Card className={classes.cart}>\n      <h2>Your Shopping Cart</h2>\n      <ul>\n       {items.map((item)=>(\n         <CartItem\n         key={item.id}\n         item={{ id :item.id,title: item.name, quantity: item.quentity, total: item.totalPrice, price: item.price }}\n       />\n       ))}\n      </ul>\n    </Card>\n  );\n};\n\nexport default Cart;\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n\r\nconst uiSlice = createSlice({\r\n    name :'ui',\r\n    initialState :{showUi :false, notification :null},\r\n    reducers :{\r\n        toggoleUi(state){\r\n            state.showUi= !state.showUi\r\n        },\r\n        showNotification(state,action){\r\n            state.notification={status :action.payload.status, title :action.payload.title, message:action.payload.message}\r\n        }\r\n    }\r\n})\r\n\r\nexport const uiAction =uiSlice.actions\r\nexport default uiSlice;\r\n","import classes from './CartButton.module.css';\nimport { uiAction } from '../../store/ui-item';\nimport { useDispatch, useSelector } from 'react-redux';\n\n\n\nconst CartButton = (props) => {\n  const quentity =useSelector(state=>state.cart.totalQuentity)\n  // const items =useSelector(state=>state.cart.items)\n  // const numberOfCardItem = items.reduce((curNumber ,item)=>{\n  //   return curNumber +item.quentity\n  // },0)\n  const dispatch=useDispatch()\n  const toggleui=()=>{\n    dispatch(uiAction.toggoleUi())\n    \n  }\n  return (\n    <button className={classes.button} onClick={toggleui}>\n      <span>My Cart</span>\n      <span className={classes.badge}>{quentity}</span>\n    </button>\n  );\n};\n\nexport default CartButton;\n","import CartButton from '../Cart/CartButton';\nimport classes from './MainHeader.module.css';\n\nconst MainHeader = (props) => {\n  return (\n    <header className={classes.header}>\n      <h1>ReduxCart</h1>\n      <nav>\n        <ul>\n          <li>\n            <CartButton />\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default MainHeader;\n","import { Fragment } from 'react';\nimport MainHeader from './MainHeader';\n\nconst Layout = (props) => {\n  return (\n    <Fragment>\n      <MainHeader />\n      <main>{props.children}</main>\n    </Fragment>\n  );\n};\n\nexport default Layout;\n","import Card from '../UI/Card';\nimport classes from './ProductItem.module.css';\nimport { useDispatch } from 'react-redux';\nimport { cartAction } from './../../store/cartSlice';\n\n\nconst ProductItem = (props) => {\n  const { title, price, description,id } = props;\n  const dispatch= useDispatch()\n\n\n\n  const addToCartHandeler=()=>{\n    dispatch(cartAction.addToCart({\n      id,\n      title,\n      price,\n      description,\n    }))\n\n  }\n\n///////////////////////////////////////////////\n// const addToCartHandler = () => {\n//   const newTotalQuantity = cart.totalQuantity + 1;\n\n//   const updatedItems = cart.items.slice(); // create copy via slice to avoid mutating original state\n//   const existingItem = updatedItems.find((item) => item.id === id);\n//   if (existingItem) {\n//     const updatedItem = { ...existingItem }; // new object + copy existing properties to avoid state mutation\n//     updatedItem.quantity++;\n//     updatedItem.totalPrice = updatedItem.totalPrice + price;\n//     const existingItemIndex = updatedItems.findIndex(\n//       (item) => item.id === id\n//     );\n//     updatedItems[existingItemIndex] = updatedItem;\n//   } else {\n//     updatedItems.push({\n//       id: id,\n//       price: price,\n//       quantity: 1,\n//       totalPrice: price,\n//       name: title,\n//     });\n//   }\n\n//   const newCart = {\n//     totalQuantity: newTotalQuantity,\n//     items: updatedItems,\n//   };\n\n//   dispatch(cartAction.replaceCart(newCart));\n\n//   // and then send Http request\n//   fetch('https://addorder-8a4e6-default-rtdb.firebaseio.com/cart.json', { method: 'POST', body: JSON.stringify(newCart) })\n\n//   dispatch(\n//     cartAction.addToCartHandeler({\n//       id,\n//       title,\n//       price,\n//     })\n//   );\n// };\n\n\n//////////////////////////\n\n\n  return (\n    <li className={classes.item}>\n      <Card>\n        <header>\n          <h3>{title}</h3>\n          <div className={classes.price}>${price.toFixed(2)}</div>\n        </header>\n        <p>{description}</p>\n        <div className={classes.actions}>\n          <button onClick={addToCartHandeler}>Add to Cart</button>\n        </div>\n      </Card>\n    </li>\n  );\n};\n\nexport default ProductItem;\n","import ProductItem from './ProductItem';\nimport classes from './Products.module.css';\n\n\nconst DUMMY_PRODUCTS = [\n  {\n    id: 'p1',\n    price: 6,\n    title: 'My First Book',\n    description: 'The first book I ever wrote',\n  },\n  {\n    id: 'p2',\n    price: 5.5,\n    title: 'My Second Book',\n    description: 'The second book I ever wrote',\n  },\n];\nconst Products = (props) => {\n  return (\n    <section className={classes.products}>\n      <h2>Buy your favorite products</h2>\n      <ul>\n      {DUMMY_PRODUCTS.map((product)=>(\n         <ProductItem\n         key={product.id}\n         id={product.id}\n         title={product.title}\n         price={product.price}\n         description={product.description}\n       />\n      ))} \n      </ul>\n    </section>\n  );\n};\n\nexport default Products;\n","\r\nimport classes from './Notification.module.css';\r\n\r\nconst Notification = (props) => {\r\n  let specialClasses = '';\r\n\r\n  if (props.status === 'error') {\r\n    specialClasses = classes.error;\r\n  }\r\n  if (props.status === 'success') {\r\n    specialClasses = classes.success;\r\n  }\r\n\r\n  const cssClasses = `${classes.notification} ${specialClasses}`;\r\n\r\n  return (\r\n    <section className={cssClasses}>\r\n      <h2>{props.title}</h2>\r\n      <p>{props.message}</p>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Notification;","import { useEffect, Fragment } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Cart from './components/Cart/Cart';\nimport { sendCardData, fetchDataCart } from './store/cart-actions';\nimport Layout from './components/Layout/Layout';\nimport Products from './components/Shop/Products';\nimport Notification from './components/UI/Notification';\n\n\nlet isInitial = true;\n\nfunction App() {\n  const dispatch =useDispatch()\n  // const [isInitial, setIsInitial] = useState(true);\n\n  const ui =useSelector(state=>state.ui.showUi)\n  const notification =useSelector(state=>state.ui.notification)\n  const cart =useSelector(state=>state.cart)\n\n\n\n  // const sendData= async()=>{\n  //   dispatch(uiAction.showNotification({\n  //     status :'pending',\n  //     title :'sending...',\n  //     message :'sending cart data'\n  //    }))\n \n  //   const res =await fetch('https://addorder-8a4e6-default-rtdb.firebaseio.com/cart.json',{\n  //     method:'PUT' ,\n  //     body:JSON.stringify(cart)\n  //    })\n  //    if(!res.ok){\n  //     throw new Error('sending data faild')\n  //        }\n\n  //    dispatch(uiAction.showNotification({\n  //     status :'success',\n  //     title :'success...',\n  //     message :'sending cart data successfuly'\n  //    }))     \n\n  // }\n    useEffect(()=>{\n      dispatch(fetchDataCart())\n    },[dispatch])\n\n  useEffect(()=>{\n    if (isInitial) {\n      isInitial=false;\n      return;\n  }\n  if(cart.changed){\n    dispatch(sendCardData(cart))\n\n  }\n  // sendData().catch(error=>{\n  //   dispatch(uiAction.showNotification({\n  //     status :'error',\n  //     title :'error...',\n  //     message :'sending cart data faild'\n  //    })) \n\n\n  // })\n},[cart,dispatch ])\n\n  return (\n    <Fragment>\n     { notification  && <Notification status={notification.status} title={notification.title} message={notification.message}/>}\n      <Layout>\n      {ui && <Cart />}\n      <Products />\n    </Layout>\n    </Fragment>\n  );\n}\n\nexport default App;\n","import { uiAction } from './ui-item';\r\nimport { cartAction } from './cartSlice';\r\n\r\n\r\n\r\nexport const fetchDataCart=()=>{\r\n    return async(dispatch)=>{\r\n      const fetchData =async()=>{\r\n        const res =await fetch('https://addorder-8a4e6-default-rtdb.firebaseio.com/cart.json')\r\n\r\n        if(!res.ok){\r\n            throw new Error('Could not fetch cart data!')\r\n        }\r\n        const data = await res.json();\r\n        return data;\r\n      \r\n      }\r\n      try {\r\n     const cartData=  await fetchData();\r\n        dispatch(cartAction.replaceCart({\r\n            items:cartData.items||[],\r\n           totalQuentity:cartData.totalQuentity\r\n\r\n\r\n        }))\r\n   \r\n        \r\n      } catch (error) {\r\n        dispatch(uiAction.showNotification({\r\n            status :'error',\r\n            title :'error...',\r\n            message :'sending cart data faild'\r\n           })) \r\n      \r\n        \r\n      }\r\n    }\r\n}\r\n\r\n\r\nexport const sendCardData=(cart)=>{\r\n    return async(dispatch)=>{\r\n        dispatch(uiAction.showNotification({\r\n            status :'pending',\r\n            title :'sending...',\r\n            message :'sending cart data'\r\n           }))\r\n\r\n           const sendRequest=async()=>{\r\n            const res =await fetch('https://addorder-8a4e6-default-rtdb.firebaseio.com/cart.json',{\r\n                method:'PUT' ,\r\n                body:JSON.stringify({items:cart.items ,totalQuentity:cart.totalQuentity})\r\n               })\r\n               if(!res.ok){\r\n                throw new Error('sending data faild')\r\n                   }\r\n           }\r\n          try{\r\n            await sendRequest()\r\n            dispatch(uiAction.showNotification({\r\n                status :'success',\r\n                title :'success...',\r\n                message :'sending cart data successfuly'\r\n               }))     \r\n            \r\n\r\n          }catch(error){\r\n            dispatch(uiAction.showNotification({\r\n                status :'error',\r\n                title :'error...',\r\n                message :'sending cart data faild'\r\n               })) \r\n          \r\n          }\r\n    }\r\n}","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport uiSlice from \"./ui-item\";\r\nimport cartSlice from \"./cartSlice\";\r\n\r\nconst store =configureStore({\r\n    reducer :{ui :uiSlice.reducer, cart :cartSlice.reducer}\r\n})\r\n\r\nexport default store;","import ReactDOM from 'react-dom/client';\n\nimport './index.css';\nimport App from './App';\nimport store from './store/index';\nimport { Provider } from 'react-redux';\n\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render( <Provider store={store}>\n     <App /> </Provider> );\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"CartItem_item__1GesH\",\"details\":\"CartItem_details__ISIap\",\"quantity\":\"CartItem_quantity__g8f32\",\"price\":\"CartItem_price__1Q92D\",\"itemprice\":\"CartItem_itemprice__3NU3H\",\"actions\":\"CartItem_actions__31hqD\"};"],"sourceRoot":""}